<div style="padding: 20px;">
  <h4>Gestisci Studenti</h4>

  <p-button 
    [label]="mostraForm ? 'Nascondi' : 'Aggiungi Studente'" 
    [icon]="mostraForm ? 'pi pi-minus' : 'pi pi-plus'"
    (click)="mostraForm = !mostraForm">
  </p-button>
  <hr>

  <div *ngIf="mostraForm">
    <h2>Aggiungi Nuovo Studente</h2>
    <form [formGroup]="studenteForm" (ngSubmit)="addStudente()">
      <label for="nome">Nome:</label>
      <input id="Nome" formControlName="nome" required>
      <br>
      <label for="cognome">Cognome:</label>
      <input id="Cognome" formControlName="cognome" required>
      <br>
      <label for="matricola">Matricola:</label>
      <input id="Matricola" type="number" formControlName="matricola" required>
      <br>
      <button type="submit" [disabled]="!studenteForm.valid">Aggiungi Studente</button>
    </form>
  </div>

  <p-table [value]="studenti$" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Cognome</th>
        <th>Matricola</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-studente>
      <tr >
        <td>{{studente.id}}</td>
        <td>{{ studente.nome }}</td>
        <td>{{ studente.cognome }}</td>
        <td>{{ studente.matricola }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>